### Рекурсивная функция `flatten`

```python
def flatten(nested_list):
    flat_list = []
    for item in nested_list:
        if isinstance(item, list):
            flat_list.extend(flatten(item))
        else:
            flat_list.append(item)
    return flat_list

nested = [1, [2, [3, 4], 5], 6]
print(flatten(nested))  # Вывод: [1, 2, 3, 4, 5, 6]
```

### Пошаговые инструкции

1. **Создание пустого списка**:
   ```python
   flat_list = []
   ```
   - Создается пустой список `flat_list`, который будет использоваться для хранения элементов вложенного списка.

2. **Проход по элементам вложенного списка**:
   ```python
   for item in nested_list:
   ```
   - Функция проходит по каждому элементу в `nested_list`.

3. **Проверка типа элемента**:
   ```python
   if isinstance(item, list):
       flat_list.extend(flatten(item))
   ```
   - Если элемент `item` является списком, функция рекурсивно вызывает саму себя с этим элементом и добавляет результат в `flat_list` с помощью метода `extend`.

4. **Добавление элемента в список**:
   ```python
   else:
       flat_list.append(item)
   ```
   - Если элемент `item` не является списком, он добавляется в `flat_list` с помощью метода `append`.

5. **Возврат плоского списка**:
   ```python
   return flat_list
   ```
   - Функция возвращает плоский список `flat_list`.

### Пример вызова

```python
nested = [1, [2, [3, 4], 5], 6]
print(flatten(nested))  # Вывод: [1, 2, 3, 4, 5, 6]
```

### Пошаговое выполнение

1. **Вызов `flatten(nested)`**:
   - `nested` = `[1, [2, [3, 4], 5], 6]`
   - Создается пустой список `flat_list`.

2. **Проход по элементам `nested`**:
   - Первый элемент: `1`
     - `1` не является списком, поэтому добавляется в `flat_list`.
     - `flat_list` = `[1]`

   - Второй элемент: `[2, [3, 4], 5]`
     - `[2, [3, 4], 5]` является списком, поэтому вызывается `flatten([2, [3, 4], 5])`.

3. **Рекурсивный вызов `flatten([2, [3, 4], 5])`**:
   - Создается новый пустой список `flat_list`.

   - Проход по элементам `[2, [3, 4], 5]`:
     - Первый элемент: `2`
       - `2` не является списком, поэтому добавляется в `flat_list`.
       - `flat_list` = `[2]`

     - Второй элемент: `[3, 4]`
       - `[3, 4]` является списком, поэтому вызывается `flatten([3, 4])`.

4. **Рекурсивный вызов `flatten([3, 4])`**:
   - Создается новый пустой список `flat_list`.

   - Проход по элементам `[3, 4]`:
     - Первый элемент: `3`
       - `3` не является списком, поэтому добавляется в `flat_list`.
       - `flat_list` = `[3]`

     - Второй элемент: `4`
       - `4` не является списком, поэтому добавляется в `flat_list`.
       - `flat_list` = `[3, 4]`

   - Возвращается `[3, 4]`.

5. **Продолжение вызова `flatten([2, [3, 4], 5])`**:
   - `flat_list.extend([3, 4])`
   - `flat_list` = `[2, 3, 4]`

   - Третий элемент: `5`
     - `5` не является списком, поэтому добавляется в `flat_list`.
     - `flat_list` = `[2, 3, 4, 5]`

   - Возвращается `[2, 3, 4, 5]`.

6. **Продолжение вызова `flatten([1, [2, [3, 4], 5], 6])`**:
   - `flat_list.extend([2, 3, 4, 5])`
   - `flat_list` = `[1, 2, 3, 4, 5]`

   - Третий элемент: `6`
     - `6` не является списком, поэтому добавляется в `flat_list`.
     - `flat_list` = `[1, 2, 3, 4, 5, 6]`

7. **Возврат результата**:
   - Возвращается `[1, 2, 3, 4, 5, 6]`.
